<%= render 'layouts/application' %>
<style>

</style>
<div class="innerpage_banner">
  <%= image_tag("create.png" , :alt => 'create.png') %>
  <div class="container">
    <div class="row">
      <div class="banner-innerpage">
        <h2>Be<span>St</span>aff</h2>
      </div>
    </div>
  </div>
</div>
<div class="content" ng-app="joinApp" ng-controller="joinController">
  <div class="content-down"></div>
  <div class="container register">
    <% flash.each do |name, msg| %>
      <div class="">
        <h4 align="center" class="flash"><%= content_tag :div, msg, :id => "flash_#{name}" %>
        </h4>
      </div>
    <% end %>
    <div class="row ">
      <div class="box-one sign-up">
        
        <h4><span><%= image_tag("line.png" , :alt => 'line.png') %></span>CREATE A NEW ACCOUNT<span>
          <%= image_tag("right.png" , :alt => 'right.png') %></span></h4>
          <h3>Come join the ESP ! Already have one? <a href="javascript:void(0)" class="clickform login-tab" ng-click="refreshScope()"> Sign in here.</a></h3>
        <%= form_for User.new, :html => { :class => "loginForm", :name => "new_user" } do |f| %>
        <div class = "form-group col-md-6"  ng-class="{'has-error': new_user.first_name.$invalid && new_user.first_name.$dirty}">
          <input type = "text" class = "form-control" id = "first_name" name="first_name" ng-model="user.first_name" placeholder = "Enter First Name" required="required">

        </div>
        <div class = "form-group col-md-6" ng-class="{'has-error': new_user.last_name.$invalid && new_user.last_name.$dirty}">
          <input type = "last_name" class = "form-control" ng-model="user.last_name" id = "last_name" name="last_name" placeholder = "Enter Last Name" required="required">

        </div>
        <div class = "form-group col-md-6" ng-class="{'has-error': new_user.email.$invalid && new_user.email.$dirty}">
          <input type = "email" class = "form-control" name="email" ng-model="user.email" id = "name" placeholder = "Enter Your Email" required="required">
   
        </div>
        <div class = "form-group col-md-6" ng-class="{'has-error': new_user.user_type.$invalid && new_user.user_type.$dirty}">
          <select name="user_type" ng-model="user.user_type" class="form-control" required="required">
            <option value='' >Select User Type</option>
            <option value="1">I want to hire staff</option>
            <option value="2">I want to sell staff</option>
            <option value="3">I want to hire/sell staff</option>
          </select>
        </div>
        <div class = "form-group col-md-6" ng-class="{'has-error': new_user.password.$invalid && new_user.password.$dirty}">
          <input type="password" name="password" ng-model="user.password" class="form-control immediate-help" id="exampleInputPassword1" placeholder="Password"  required="required" autocomplete="off">
                
        </div>

        <div class = "form-group col-md-6" >
          <div ng-password-strength="user.password" strength="passStrength" inner-class="progress-bar" inner-class-prefix="progress-bar-">
         </div>        
          <p class="{{passStatus}}"> Password Strength: {{ passStatus }} </p>
        </div>
        
        <div class = "form-group col-md-12" ng-class="{'has-error': new_user.agree.$invalid && new_user.agree.$dirty}">
          <input type="checkbox" required="required" ng-model="user.agree" name="agree" style="opacity: 1">
          <span>By submitting this form you agree to ESP <span class="c1">Terms of Service.</span></span>
        </div>
        
        <!--  <div class = "checkbox">
          <label><input type = "checkbox"> Check me out</label>
        </div> -->
        <div class = "form-group col-md-12">
          <button type = "submit" ng-disabled="new_user.$invalid || disabledJoin" class = "btn btn-default register">Join ESP!</button>
        </div>
        <% end %>
        </div><!-- end .box-one -->


        <!-- login form start from here  -->


        <div class="box-two" style="display:none;">
          
          <h4><span><%= image_tag("line.png" , :alt => 'line.png') %></span>LOG IN<span><%= image_tag("right.png" , :alt => 'right.png') %></span></h4>
          <h3>Come join the ESP ! Let's set up your account.<a href="javascript:void(0)" class="clickform register-tab" ng-click="refreshScope()"> Sign up here.</a></h3>
          <%= form_tag sessions_path, :id => 'loginForm', :name => 'loginForm' do %>
          <div class="form-group col-md-6 col-lg-offset-3" ng-class="{'has-error': loginForm.email.$invalid && loginForm.email.$dirty}">
            <input type="email" name="email" ng-model="login.email" class="form-control" id="exampleInputEmail1" placeholder="Enter Your Email" required="required">
            
          </div>
          <div class="form-group col-md-6 col-lg-offset-3" ng-class="{'has-error': loginForm.password.$invalid && loginForm.password.$dirty}">
            
            <input type="password" name="password" ng-model="login.password" class="form-control" id="exampleInputPassword1" placeholder="Enter Your Password" required="required">
            
          </div>
          
          <div class="checkbox col-lg-12">
            <label>
              <input type="checkbox"> Remember me
            </label>
          </div>
          <div class = "form-group col-md-12">
            <input type="submit" name="submit" class="btn btn-default login-tab" value ="Log In" ng-disabled="loginForm.$invalid">
          </div>
          <% end %>
          </div><!-- end .box-one -->
        </div>
      </div>
      
    </div>
  </div>
  <script type="text/javascript">
  $(document).ready(function () {
  //$("#loginForm").validate();
 // $("#new_user").validate();
  });
  </script>
  <%= render 'layouts/footer' %>